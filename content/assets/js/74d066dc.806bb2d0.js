"use strict";(self.webpackChunkwebsite_next=self.webpackChunkwebsite_next||[]).push([[50981],{15680:(e,a,t)=>{t.d(a,{xA:()=>s,yg:()=>g});var r=t(96540);function p(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function l(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?l(Object(t),!0).forEach((function(a){p(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function n(e,a){if(null==e)return{};var t,r,p=function(e,a){if(null==e)return{};var t,r,p={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],a.indexOf(t)>=0||(p[t]=e[t]);return p}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(p[t]=e[t])}return p}var o=r.createContext({}),u=function(e){var a=r.useContext(o),t=a;return e&&(t="function"==typeof e?e(a):i(i({},a),e)),t},s=function(e){var a=u(e.components);return r.createElement(o.Provider,{value:a},e.children)},h="mdxType",m={inlineCode:"code",wrapper:function(e){var a=e.children;return r.createElement(r.Fragment,{},a)}},c=r.forwardRef((function(e,a){var t=e.components,p=e.mdxType,l=e.originalType,o=e.parentName,s=n(e,["components","mdxType","originalType","parentName"]),h=u(t),c=p,g=h["".concat(o,".").concat(c)]||h[c]||m[c]||l;return t?r.createElement(g,i(i({ref:a},s),{},{components:t})):r.createElement(g,i({ref:a},s))}));function g(e,a){var t=arguments,p=a&&a.mdxType;if("string"==typeof e||p){var l=t.length,i=new Array(l);i[0]=c;var n={};for(var o in a)hasOwnProperty.call(a,o)&&(n[o]=a[o]);n.originalType=e,n[h]="string"==typeof e?e:p,i[1]=n;for(var u=2;u<l;u++)i[u]=t[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}c.displayName="MDXCreateElement"},92705:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>o,contentTitle:()=>i,default:()=>m,frontMatter:()=>l,metadata:()=>n,toc:()=>u});var r=t(58168),p=(t(96540),t(15680));const l={id:"pulsar-3.0.3",title:"Apache Pulsar 3.0.3",sidebar_label:"Apache Pulsar 3.0.3"},i=void 0,n={unversionedId:"versioned/pulsar-3.0.3",id:"versioned/pulsar-3.0.3",title:"Apache Pulsar 3.0.3",description:"2024-03-09",source:"@site/release-notes/versioned/pulsar-3.0.3.md",sourceDirName:"versioned",slug:"/versioned/pulsar-3.0.3",permalink:"/release-notes/versioned/pulsar-3.0.3",draft:!1,editUrl:"https://github.com/apache/pulsar-site/edit/main/release-notes/versioned/pulsar-3.0.3.md",tags:[],version:"current",frontMatter:{id:"pulsar-3.0.3",title:"Apache Pulsar 3.0.3",sidebar_label:"Apache Pulsar 3.0.3"}},o={},u=[{value:"2024-03-09",id:"2024-03-09",level:4},{value:"Broker",id:"broker",level:3},{value:"CLI",id:"cli",level:3},{value:"Clients",id:"clients",level:2},{value:"Pulsar IO and Pulsar Functions",id:"pulsar-io-and-pulsar-functions",level:3},{value:"Others",id:"others",level:3},{value:"Library updates",id:"library-updates",level:3}],s={toc:u},h="wrapper";function m(e){let{components:a,...t}=e;return(0,p.yg)(h,(0,r.A)({},s,t,{components:a,mdxType:"MDXLayout"}),(0,p.yg)("h4",{id:"2024-03-09"},"2024-03-09"),(0,p.yg)("h3",{id:"broker"},"Broker"),(0,p.yg)("ul",null,(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[improve][broker]"," Consistently add fine-grain authorization to REST API ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22202"},"22202"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[improve][broker]"," Add fine-grain authorization to retention admin API ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22163"},"22163"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[improve][broker]"," Cache the internal writer when sent to system topic. ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22099"},"22099"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[improve][broker]"," Add an error log to troubleshoot the failure of starting broker registry. ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22065"},"22065"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[improve][broker]"," Do not retain the data in the system topic ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22022"},"22022"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[improve][broker]"," Do not try to open ML when the topic meta does not exist and do not expect to create a new one. #21995 ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22004"},"22004"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[improve][broker]"," Do not print an Error log when responding to ",(0,p.yg)("inlineCode",{parentName:"p"},"HTTP-404")," when calling ",(0,p.yg)("inlineCode",{parentName:"p"},"Admin API")," and the topic does not exist. ","[21995]","(",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/-"},"https://github.com/apache/pulsar/pull/-")," 21995)")),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[improve][broker]"," Do not close the socket if lookup failed due to LockBusyException ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21993"},"21993"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[improve][broker]"," Don't rollover empty ledgers based on inactivity ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21893"},"21893"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[improve][broker]"," Improve NamespaceUnloadStrategy error message ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21880"},"21880"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[improve][broker]"," Skip loading the NAR packages if not configured ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21867"},"21867"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[improve][broker]"," defer the ownership checks if the owner is inactive (ExtensibleLoadManager) ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21857"},"21857"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[improve][broker]"," defer the ownership checks if the owner is inactive (ExtensibleLoadManager) ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21811"},"21811"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[improve][broker]"," cleanup the empty subscriptionAuthenticationMap in zk when revoke subscription permission ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21696"},"21696"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[improve][broker]"," Let the producer request success at the first time if the previous one is inactive ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21220"},"21220"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[improve][broker]"," Avoid record inactiveproducers when deduplication is disable. ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21193"},"21193"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[improve][broker]"," Support not retaining null-key message during topic compaction (#21578) ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21662"},"21662"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[improve][broker]"," Print recoverBucketSnapshot log if cursorProperties are empty ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21651"},"21651"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[improve][broker]","[PIP-318]"," Support not retaining null-key message during topic compaction ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21578"},"21578"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," print non log when delete partitioned topic failed ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22153"},"22153"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Fix broker not starting when both transactions and the Extensible Load Manager are enabled ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22139"},"22139"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Return getOwnerAsync without waiting on source broker upon Assigning and Releasing and handle role change during role init ","[22112]","(",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar-"},"https://github.com/apache/pulsar-")," /pull/22112)")),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Enabling batch causes negative unackedMessages due to ack and delivery concurrency ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22090"},"22090"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Support running docker container with gid != 0 ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22081"},"22081"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Set ServiceUnitStateChannel topic compaction threshold explicitly, improve getOwnerAsync, and fix other bugs ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22064"},"22064"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Fix hash collision when using a consumer name that ends with a number ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22053"},"22053"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Sanitize values before logging in apply-config-from-env.py script ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22044"},"22044"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Fix can not subscribe partitioned topic with a suffix-matched regexp ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22025"},"22025"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Subscription stuck due to called Admin API analyzeSubscriptionBacklog ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22019"},"22019"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]","[branch-3.1]"," Avoid PublishRateLimiter use an already closed RateLimiter ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22011"},"22011"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," ","[branch-3.0]"," Fast fix infinite HTTP call createSubscriptions caused by wrong topicName ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21997"},"21997"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]","Support setting ",(0,p.yg)("inlineCode",{parentName:"p"},"autoSkipNonRecoverableData")," dynamically in expiryMon\u2026 ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21991"},"21991"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," add timeout for health check read. ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21990"},"21990"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Fix schema deletion error when deleting a partitioned topic with many partitions and schema ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21977"},"21977"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Fix reader stuck when read from compacted topic with read compact mode disable ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21969"},"21969"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Replication stopped due to unload topic failed ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21947"},"21947"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Expire messages according to ledger close time to avoid client clock skew ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21940"},"21940"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Restore the broker id to match the format used in existing Pulsar releases ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21937"},"21937"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Fix getMessageById throws 500 ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21919"},"21919"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," fix write all compacted out entry into compacted topic ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21917"},"21917"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Fix deadlock while skip non-recoverable ledgers. ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21915"},"21915"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Fix leader broker cannot be determined when the advertised address and advertised listeners are configured ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21894"},"21894"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Fix break change: could not subscribe partitioned topic with a suffix-matched regexp due to a mistake of PIP-145 ","[21885]","(",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/-"},"https://github.com/apache/pulsar/pull/-")," 21885)")),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Fix compaction/replication data loss when expire messages ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21865"},"21865"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]","Fix NonPersistentDispatcherMultipleConsumers ArrayIndexOutOfBoundsException ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21856"},"21856"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Fix returns wrong webServiceUrl when both webServicePort and webServicePortTls are set ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21842"},"21842"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Fix String wrong format ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21829"},"21829"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Update topic policies as much as possible when some ex was thrown ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21810"},"21810"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Fix TableViewLoadDataStoreImpl NPE ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21777"},"21777"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Fix the wrong value of BrokerSrevice.maxUnackedMsgsPerDispatcher ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21765"},"21765"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Fixed the ExtensibleLoadManagerImpl internal system getTopic failure when the leadership changes ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21764"},"21764"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Delete compacted ledger when topic is deleted ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21745"},"21745"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Skip topic auto-creation for ExtensibleLoadManager internal topics ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21729"},"21729"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Fixed ServiceUnitStateChannel monitor to tombstone only inactive bundle states ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21721"},"21721"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Avoid compaction task stuck when the last message to compact is a marker ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21718"},"21718"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Fix the issue of topics possibly being deleted. ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21704"},"21704"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Fix typo in the config key ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21690"},"21690"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," network package lost if enable haProxyProtocolEnabled ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21684"},"21684"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Record GeoPersistentReplicator.msgOut before producer#sendAsync ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21673"},"21673"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Fix memory leak during topic compaction ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21647"},"21647"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Fix lookupRequestSemaphore leak when topic not found ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21646"},"21646"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Fix returns wrong webServiceUrl when both webServicePort and webServicePortTls are set ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21633"},"21633"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Fixed getting incorrect KeyValue schema version ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21632"},"21632"),"\n(",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21620"},"https://github.com/apache/pulsar/pull/21620"),")")),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Delete topic timeout due to NPE ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21595"},"21595"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Fix incorrect unack count when using shared subscription on non-persistent topic ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21592"},"21592"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Duplicate LedgerOffloader creation when namespace/topic\u2026 ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21591"},"21591"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Correct schema deletion for partitioned topic ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21574"},"21574"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Fix setReplicatedSubscriptionStatus incorrect behavior ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21510"},"21510"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Do not write replicated snapshot marker when the topic which is not enable replication ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21495"},"21495"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Fix issue with consumer read uncommitted messages from compacted topic ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21465"},"21465"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Fix resource_quota_zpath ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21461"},"21461"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Fix MultiRoles token provider NPE when using anonymous clients ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21429"},"21429"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Avoid consumers receiving acknowledged messages from compacted topic after reconnection ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21187"},"21187"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," Make the new exclusive consumer instead the inactive one faster ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21183"},"21183"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]","  Fix PulsarService.getLookupServiceAddress returns wrong port if TLS is enabled ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21015"},"21015"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][broker]"," fix ",(0,p.yg)("inlineCode",{parentName:"p"},"Update contains no change")," error when use ",(0,p.yg)("inlineCode",{parentName:"p"},"--update-auth-data")," flag to update  function/sink/source ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/19450"},"19450"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[improve][proxy]"," Add a check for brokerServiceURL that does not support multi uri yet ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21972"},"21972"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[improve][proxy]"," Fix comment about enableProxyStatsEndpoints ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21757"},"21757"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[improve][proxy]"," When adding new brokers resolve the DNS name more quickly ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21207"},"21207"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][txn]","Fix TopicTransactionBuffer potential thread safety issue ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22149"},"22149"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][txn]"," Get previous position by managed ledger. ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22024"},"22024"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][txn]"," Ack all message ids when ack chunk messages with transaction. ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21268"},"21268"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][txn]"," Fix getting last message ID when there are ongoing transactions ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21466"},"21466"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][ml]"," Fix retry mechanism of deleting ledgers to invalidate ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21869"},"21869"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][ml]"," Make mlOwnershipChecker asynchronous so that it doesn't block/deadlock threads ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21333"},"21333"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[improve][ml]"," Filter out deleted entries before read entries from ledger. ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21739"},"21739"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][offload]"," Fix Offload readHandle cannot close multi times. ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22162"},"22162"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][offload]"," Don't cleanup data when offload met MetaStore exception ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21686"},"21686"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][ci]"," ","[branch-3.0]"," Fix the build issue from cherry-pick ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22042"},"22042"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][sec]"," Add a check for the input time value ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22023"},"22023"))),(0,p.yg)("li",{parentName:"ul"},(0,p.yg)("p",{parentName:"li"},"[fix][log]"," fix the vague response if topic not found ",(0,p.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/20932"},"20932")))),(0,p.yg)("h3",{id:"cli"},"CLI"),(0,p.yg)("ul",null,(0,p.yg)("li",{parentName:"ul"},"[fix][admin]"," Fix KeyValue schema compatibility check caused OOM ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21645"},"21645")),(0,p.yg)("li",{parentName:"ul"},"[improve][admin]"," Add clusters check when set replication clusters ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21650"},"21650"),"- ")),(0,p.yg)("h2",{id:"clients"},"Clients"),(0,p.yg)("ul",null,(0,p.yg)("li",{parentName:"ul"},"[fix][client]"," fix huge permits if acked a half batched message ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22091"},"22091")),(0,p.yg)("li",{parentName:"ul"},"[fix][client]"," Do no retrying for error subscription not found when disabled allowAutoSubscriptionCreation ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22078"},"22078")),(0,p.yg)("li",{parentName:"ul"},"[fix][client]"," Fix ConsumerBuilderImpl#subscribe silent stuck when using pulsar-client:3.0.x with jackson-annotations prior to 2.12.0 ","[21985]","(",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/-"},"https://github.com/apache/pulsar/-")," pull/21985)"),(0,p.yg)("li",{parentName:"ul"},"[fix][client]"," Fix multi-topics consumer could receive old messages after seek ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21945"},"21945")),(0,p.yg)("li",{parentName:"ul"},"[cleanup][client]"," Fix inconsistent API annotations of ",(0,p.yg)("inlineCode",{parentName:"li"},"getTopicName")," ","[21620]"),(0,p.yg)("li",{parentName:"ul"},"[fix][client]"," fix negative message re-delivery twice issue ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20750"},"20750")),(0,p.yg)("li",{parentName:"ul"},"[fix][client]"," Fix messages in the batch container timed out unexpectedly ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21889"},"21889")),(0,p.yg)("li",{parentName:"ul"},"[improve][client]"," Prevent reserve memory with a negative memory size to avoid send task stuck ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21804"},"21804")),(0,p.yg)("li",{parentName:"ul"},"[fix][client]"," Fix producer thread block forever on memory limit controller ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21790"},"21790")),(0,p.yg)("li",{parentName:"ul"},"[fix][client]"," Messages lost due to TopicListWatcher reconnect ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21853"},"21853"))),(0,p.yg)("h3",{id:"pulsar-io-and-pulsar-functions"},"Pulsar IO and Pulsar Functions"),(0,p.yg)("ul",null,(0,p.yg)("li",{parentName:"ul"},"[improve][fn]",' Add missing "exception" argument to some ',(0,p.yg)("inlineCode",{parentName:"li"},"log.error")," ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22140"},"22140")),(0,p.yg)("li",{parentName:"ul"},"[improve][fn]"," Optimize Function Worker startup by lazy loading and direct zip/bytecode access ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22122"},"22122")),(0,p.yg)("li",{parentName:"ul"},"[fix][fn]"," Fix Deadlock in Functions Worker LeaderService ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21711"},"21711")),(0,p.yg)("li",{parentName:"ul"},"[fix][fn]"," Use unified PackageManagement service to download packages ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21955"},"21955")),(0,p.yg)("li",{parentName:"ul"},"[improve][io]"," Make connectors load sensitive fields from secrets ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21675"},"21675"))),(0,p.yg)("h3",{id:"others"},"Others"),(0,p.yg)("ul",null,(0,p.yg)("li",{parentName:"ul"},"[fix][test]"," Fix test testAsyncFunctionMaxPending ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22121"},"22121")),(0,p.yg)("li",{parentName:"ul"},"[fix][test]"," fix test testSyncNormalPositionWhenTBRecover ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22120"},"22120")),(0,p.yg)("li",{parentName:"ul"},"[fix][test]"," Fix test testTransactionBufferMetrics ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22117"},"22117")),(0,p.yg)("li",{parentName:"ul"},"[fix][test]"," Fix PerformanceProducer send count error ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21706"},"21706")),(0,p.yg)("li",{parentName:"ul"},"[fix][test]"," ProxyWithoutServiceDiscoveryTest should enable authz ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20348"},"20348")),(0,p.yg)("li",{parentName:"ul"},"[cleanup]"," Consolidate certs used in tests ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20336"},"20336")),(0,p.yg)("li",{parentName:"ul"},"[cleanup]"," Deduplicate test certificates to simplify management ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20289"},"20289")),(0,p.yg)("li",{parentName:"ul"},"[cleanup]"," Consolidate certs in broker (and some proxy) tests ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20353"},"20353")),(0,p.yg)("li",{parentName:"ul"},"[fix][test]"," Make base test class method protected so that it passes ReportUnannotatedMethods validation ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21976"},"21976")),(0,p.yg)("li",{parentName:"ul"},"[improve][build]"," Add a default username in the image ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21695"},"21695")),(0,p.yg)("li",{parentName:"ul"},"[fix][build]"," Fix Stage Docker images fail on M1 Mac ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21659"},"21659"))),(0,p.yg)("h3",{id:"library-updates"},"Library updates"),(0,p.yg)("ul",null,(0,p.yg)("li",{parentName:"ul"},"[fix][sec]"," Upgrade Jetty to 9.4.54.v20240208 to address CVE-2024-22201 ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22144"},"22144")),(0,p.yg)("li",{parentName:"ul"},"[fix][sec]"," Upgrade rabbitmq client to address CVE-2023-46120 ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21619"},"21619")),(0,p.yg)("li",{parentName:"ul"},"[fix][sec]"," Upgrade commons-compress to 1.26.0 ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22086"},"22086")),(0,p.yg)("li",{parentName:"ul"},"[fix][sec]"," Exclude avro from hadoop-client ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21719"},"21719")),(0,p.yg)("li",{parentName:"ul"},"[improve][ci]"," Upgrade pulsar-client-python to 3.4.0 to avoid CVE-2023-1428 ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21899"},"21899")),(0,p.yg)("li",{parentName:"ul"},"[fix][sec]"," Upgrade org.bouncycastle:bc-fips to 1.0.2.4 ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21730"},"21730")),(0,p.yg)("li",{parentName:"ul"},"[improve][build]"," Upgrade Apache ZooKeeper to 3.9.1 ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20933"},"20933")),(0,p.yg)("li",{parentName:"ul"},"[fix][sec]"," Upgrade snappy-java to 1.1.10.5 ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21280"},"21280")),(0,p.yg)("li",{parentName:"ul"},"[improve][bk]"," Upgrade BookKeeper dependency to 4.16.4 ",(0,p.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21983"},"21983"))))}m.isMDXComponent=!0}}]);