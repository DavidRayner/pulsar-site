"use strict";(self.webpackChunkwebsite_next=self.webpackChunkwebsite_next||[]).push([[94388],{15680:(e,a,t)=>{t.d(a,{xA:()=>s,yg:()=>m});var r=t(96540);function l(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function n(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?n(Object(t),!0).forEach((function(a){l(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function p(e,a){if(null==e)return{};var t,r,l=function(e,a){if(null==e)return{};var t,r,l={},n=Object.keys(e);for(r=0;r<n.length;r++)t=n[r],a.indexOf(t)>=0||(l[t]=e[t]);return l}(e,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)t=n[r],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var o=r.createContext({}),u=function(e){var a=r.useContext(o),t=a;return e&&(t="function"==typeof e?e(a):i(i({},a),e)),t},s=function(e){var a=u(e.components);return r.createElement(o.Provider,{value:a},e.children)},c="mdxType",h={inlineCode:"code",wrapper:function(e){var a=e.children;return r.createElement(r.Fragment,{},a)}},g=r.forwardRef((function(e,a){var t=e.components,l=e.mdxType,n=e.originalType,o=e.parentName,s=p(e,["components","mdxType","originalType","parentName"]),c=u(t),g=l,m=c["".concat(o,".").concat(g)]||c[g]||h[g]||n;return t?r.createElement(m,i(i({ref:a},s),{},{components:t})):r.createElement(m,i({ref:a},s))}));function m(e,a){var t=arguments,l=a&&a.mdxType;if("string"==typeof e||l){var n=t.length,i=new Array(n);i[0]=g;var p={};for(var o in a)hasOwnProperty.call(a,o)&&(p[o]=a[o]);p.originalType=e,p[c]="string"==typeof e?e:l,i[1]=p;for(var u=2;u<n;u++)i[u]=t[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}g.displayName="MDXCreateElement"},33822:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>o,contentTitle:()=>i,default:()=>h,frontMatter:()=>n,metadata:()=>p,toc:()=>u});var r=t(58168),l=(t(96540),t(15680));const n={id:"pulsar-3.2.1",title:"Apache Pulsar 3.2.1",sidebar_label:"Apache Pulsar 3.2.1"},i=void 0,p={unversionedId:"versioned/pulsar-3.2.1",id:"versioned/pulsar-3.2.1",title:"Apache Pulsar 3.2.1",description:"2024-03-08",source:"@site/release-notes/versioned/pulsar-3.2.1.md",sourceDirName:"versioned",slug:"/versioned/pulsar-3.2.1",permalink:"/release-notes/versioned/pulsar-3.2.1",draft:!1,editUrl:"https://github.com/apache/pulsar-site/edit/main/release-notes/versioned/pulsar-3.2.1.md",tags:[],version:"current",frontMatter:{id:"pulsar-3.2.1",title:"Apache Pulsar 3.2.1",sidebar_label:"Apache Pulsar 3.2.1"}},o={},u=[{value:"2024-03-08",id:"2024-03-08",level:4},{value:"Broker",id:"broker",level:3},{value:"Pulsar IO and Pulsar Functions",id:"pulsar-io-and-pulsar-functions",level:3},{value:"CLI",id:"cli",level:3},{value:"Others",id:"others",level:3},{value:"Library updates",id:"library-updates",level:3}],s={toc:u},c="wrapper";function h(e){let{components:a,...t}=e;return(0,l.yg)(c,(0,r.A)({},s,t,{components:a,mdxType:"MDXLayout"}),(0,l.yg)("h4",{id:"2024-03-08"},"2024-03-08"),(0,l.yg)("h3",{id:"broker"},"Broker"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},"Consistently add fine-grain authorization to REST API ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22202"},"#22202")),(0,l.yg)("li",{parentName:"ul"},"Add fine-grain authorization to retention admin API ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22163"},"#22163")),(0,l.yg)("li",{parentName:"ul"},"Print non log when delete partitioned topic failed ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22153"},"#22153")),(0,l.yg)("li",{parentName:"ul"},"Fix broker not starting when both transactions and the Extensible Load Manager are enabled ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22139"},"#22139")),(0,l.yg)("li",{parentName:"ul"},"Return getOwnerAsync without waiting on source broker upon Assigning and Releasing and handle role change during role init ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22112"},"#22112")),(0,l.yg)("li",{parentName:"ul"},"Cache the internal writer when sent to system topic. ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22099"},"#22099")),(0,l.yg)("li",{parentName:"ul"},"Enabling batch causes negative unackedMessages due to ack and delivery concurrency ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22090"},"#22090")),(0,l.yg)("li",{parentName:"ul"},"Support running docker container with gid != 0 ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22081"},"#22081")),(0,l.yg)("li",{parentName:"ul"},"Add an error log to troubleshoot the failure of starting broker registry ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22065"},"#22065")),(0,l.yg)("li",{parentName:"ul"},"Set ServiceUnitStateChannel topic compaction threshold explicitly, improve getOwnerAsync, and fix other bugs ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22064"},"#22064")),(0,l.yg)("li",{parentName:"ul"},"Fix hash collision when using a consumer name that ends with a number ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22053"},"#22053")),(0,l.yg)("li",{parentName:"ul"},"Sanitize values before logging in apply-config-from-env.py script ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22044"},"#22044")),(0,l.yg)("li",{parentName:"ul"},"Fix can not subscribe partitioned topic with a suffix-matched regexp ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22025"},"#22025")),(0,l.yg)("li",{parentName:"ul"},"Do not retain the data in the system topic ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22022"},"#22022")),(0,l.yg)("li",{parentName:"ul"},"Subscription stuck due to called Admin API analyzeSubscriptionBacklog ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22019"},"#22019")),(0,l.yg)("li",{parentName:"ul"},"Do not try to open ML when the topic meta does not exist and do not expect to create a new one ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22004"},"#22004")),(0,l.yg)("li",{parentName:"ul"},"Do not print an Error log when responding to HTTP-404 when calling Admin API and the topic does not exist ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21995"},"#21995")),(0,l.yg)("li",{parentName:"ul"},"Do not close the socket if lookup failed due to LockBusyException ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21993"},"#21993")),(0,l.yg)("li",{parentName:"ul"},"Support setting autoSkipNonRecoverableData dynamically in PersistentMessageExpiryMonitor ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21991"},"#21991")),(0,l.yg)("li",{parentName:"ul"},"Add timeout for health check read ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21990"},"#21990")),(0,l.yg)("li",{parentName:"ul"},"Fix schema deletion error when deleting a partitioned topic with many partitions and schema ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21977"},"#21977")),(0,l.yg)("li",{parentName:"ul"},"Defer the ownership checks if the owner is inactive (ExtensibleLoadManager) ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21811"},"#21811")),(0,l.yg)("li",{parentName:"ul"},"Fix compaction/replication data loss when expire messages ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21865"},"#21865")),(0,l.yg)("li",{parentName:"ul"},"Skip loading the NAR packages if not configured ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21867"},"#21867")),(0,l.yg)("li",{parentName:"ul"},"Improve NamespaceUnloadStrategy error message ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21880"},"#21880")),(0,l.yg)("li",{parentName:"ul"},"Don't rollover empty ledgers based on inactivity ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21893"},"#21893")),(0,l.yg)("li",{parentName:"ul"},"Expire messages according to ledger close time to avoid client clock skew ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21940"},"#21940")),(0,l.yg)("li",{parentName:"ul"},"Fix reader stuck when read from compacted topic with read compact mode disable ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21969"},"#21969"))),(0,l.yg)("h3",{id:"pulsar-io-and-pulsar-functions"},"Pulsar IO and Pulsar Functions"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},"[FN]"," Add configuration for connector & functions package url sources ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22184"},"#22184")),(0,l.yg)("li",{parentName:"ul"},"[FN]",' Add missing "exception" argument to some log.error ',(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22140"},"#22140")),(0,l.yg)("li",{parentName:"ul"},"[FN]"," Prevent putstate uses empty values ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22127"},"#22127")),(0,l.yg)("li",{parentName:"ul"},"[FN]"," Optimize Function Worker startup by lazy loading and direct zip/bytecode access ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22122"},"#22122")),(0,l.yg)("li",{parentName:"ul"},"[FN]"," Prevent create state table from API calls for non-exists instances ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22107"},"#22107")),(0,l.yg)("li",{parentName:"ul"},"[FN]"," Use unified PackageManagement service to download packages ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21955"},"#21955"))),(0,l.yg)("h3",{id:"cli"},"CLI"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},"[Admin]"," Expose the offload threshold in seconds to the admin ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22101"},"#22101")),(0,l.yg)("li",{parentName:"ul"},"[CLI]"," Fix the bug when set-retention specified size with -T ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22150"},"#22150")),(0,l.yg)("li",{parentName:"ul"},"[CLI]"," Error out when --destinationBroker is set when --bundle is empty ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21879"},"#21879"))),(0,l.yg)("h3",{id:"others"},"Others"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},"[MISC]"," Add a check for the input time value ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22023"},"#22023")),(0,l.yg)("li",{parentName:"ul"},"[Proxy]"," Add a check for brokerServiceURL that does not support multi uri yet ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21972"},"#21972")),(0,l.yg)("li",{parentName:"ul"},"[TX]"," Get previous position by managed ledger ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22024"},"#22024")),(0,l.yg)("li",{parentName:"ul"},"[ML]"," Fix retry mechanism of deleting ledgers to invalidate ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21869"},"#21869")),(0,l.yg)("li",{parentName:"ul"},"[ML]"," Filter out deleted entries before read entries from ledger ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21739"},"#21739"))),(0,l.yg)("h3",{id:"library-updates"},"Library updates"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},"Upgrade Jetty to 9.4.54.v20240208 to address CVE-2024-22201 ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22144"},"#22144")),(0,l.yg)("li",{parentName:"ul"},"pgrade commons-compress to 1.26.0 ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22086"},"#22086")),(0,l.yg)("li",{parentName:"ul"},"Upgrade BookKeeper dependency to 4.16.4 ",(0,l.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21983"},"#21983"))),(0,l.yg)("blockquote",null,(0,l.yg)("p",{parentName:"blockquote"},"A special thanks to the following contributors who contributed to Pulsar 3.2.1:\nmattisonchao, lhotari, poorbarcode, Technoboy-, jiangpengcheng, dragosvictor, freeznet, liangyepianzhou, heesung-sn, zymap, massakam, thetumbled, BewareMyPower, chenhongSZ, Shawyeok, hangc0276, 315157973, coderzc, dao-jun.")))}h.isMDXComponent=!0}}]);